# 文字转语音解说指南

*本指南还提供以下语言版本：
[English](TTS-GUIDE.md) |
[Francais](TTS-GUIDE-fr.md) |
[Espanol](TTS-GUIDE-es.md) |
[Deutsch](TTS-GUIDE-de.md) |
[日本語](TTS-GUIDE-ja.md) |
[Русский](TTS-GUIDE-ru.md) |
中文*

## 为什么 TTS 会改变你学棋的方式

当你在复盘一盘带注释的棋局时，你的眼睛需要同时完成两件事。你既要跟踪棋盘上的棋子，*又*要阅读旁边的解说文字。你的目光在棋盘和注释面板之间来回跳动，每一次切换都会让你短暂地丢失对局面的把握。你不得不重新寻找棋子的位置、重新梳理变化线路、重新在脑中构建局面。

文字转语音彻底解决了这个问题。

开启 TTS 后，你只需逐步走棋，注释就会被*朗读出来*。你的目光可以始终停留在棋盘上。你看着骑士落在 f3，同时一个声音告诉你为什么这是一步有力的出子着法。你看到兵形发生变化，同时解说为你阐释背后的战略构思。画面与讲解同步到达——就像一位坐在你对面的教练在给你讲棋。

这种体验在以下场景中尤为出色：

- **开局学习** —— 在观察局面发展的同时，聆听每步棋背后的构想
- **复盘回顾** —— 逐步走过自己带注释的棋局，自然而然地吸收其中的经验
- **残局练习** —— 将注意力集中在关键格子上，让解说引导你的思考
- **语言沉浸** —— 用法语、德语、西班牙语、俄语、日语或中文学习国际象棋，所有棋类术语都会自动翻译。你会听到"马 f3，将军"而不是"Knight f3, check"。用你思考的语言来学习这项运动。
- **无障碍体验** —— 适合更习惯听而非阅读的棋手，或者想在离开桌面时继续学习的棋手

一旦你体验过，再回到无声的注释模式，就像看一部被静音的电影。

## 选择服务提供商

当前版本内置了两个 TTS 提供商 —— Google Cloud 和 ElevenLabs。如果社区希望接入其他提供商，请告诉我们，我们可以添加。你只需要选择一个提供商即可开始使用——选最适合你的就好。

|                        | Google Cloud                  | ElevenLabs                    |
|------------------------|-------------------------------|-------------------------------|
| **免费额度**           | 每月 1,000,000 字符           | 每月 10,000 字符              |
| **语音质量**           | 非常好 (WaveNet)              | 卓越（高级 AI 语音）          |
| **语音选择**           | 每种语言提供男声和女声        | 数十种独特音色                |
| **付费方案**           | 按量付费（极低价格）          | $5/月起                       |
| **最适合**             | 大多数用户                    | 追求极致语音品质的用户        |
| **设置难度**           | 中等（需使用 Cloud Console）  | 简单（注册即可）              |

**我们的建议：**从 **Google Cloud** 开始。免费额度每月有一百万字符——足以朗读数百盘完整注释的棋局，完全免费。WaveNet 语音效果很出色。如果之后你想要更丰富、更有表现力、更具个性的语音解说，ElevenLabs 随时为你准备着。

## 设置 Google Cloud TTS

整个过程大约需要 5 分钟。你需要一个 Google 账号（用于 Gmail 或 YouTube 的那个就行）。

### 第一步：登录 Google Cloud Console

1. 打开浏览器，前往 **[console.cloud.google.com](https://console.cloud.google.com/)**
2. 使用你的 Google 账号登录
3. 如果是第一次使用，Google 会要求你同意服务条款。勾选复选框并点击 **Agree and Continue**

现在你应该能看到 Google Cloud Console 的控制面板。界面看起来内容很多——不用担心，我们只需要用到其中两样东西。

### 第二步：设置结算信息

即使使用免费额度，Google 也需要一个结算账号。**除非你一个月内超过一百万字符（用国际象棋注释几乎不可能达到），否则不会产生任何费用**。在接近额度上限之前，Google 会提前发出警告。

1. 在顶部搜索栏中输入 **"Billing"**，然后在下拉菜单中点击 **Billing**
2. 点击 **Link a billing account**（如果你还没有账号，则点击 **Create account**）
3. 按照提示添加信用卡或借记卡
4. 完成后，你会在结算账号旁边看到一个绿色的对勾

> **提示：** 如果你之前已经为其他项目设置过 Google Cloud 结算，可以跳过这一步。你已有的结算账号可以直接使用。

### 第三步：启用 Text-to-Speech API

这一步告诉 Google 你想使用哪项服务。

1. 在顶部搜索栏中输入 **"Text-to-Speech"**
2. 在下拉结果中，点击 **Cloud Text-to-Speech API**（带有蓝色 API 图标）
3. 你会进入 API 详情页面。点击那个蓝色大按钮 **Enable**
4. 等待几秒钟。当按钮变为 **Manage** 时，说明 API 已启用

### 第四步：创建 API key

API key 是 En Croissant 与 Google 服务器通信的凭证。

1. 在顶部搜索栏中输入 **"Credentials"**，然后点击 "APIs & Services" 下方的 **Credentials**
2. 在页面顶部附近，点击 **+ Create Credentials**
3. 在下拉菜单中选择 **API key**
4. 一个对话框会弹出，显示你的新密钥。它看起来类似：`AIzaSyC...大约 35 个字符...`
5. **点击密钥旁边的复制图标**，将密钥复制到剪贴板
6. 点击 **Close**

> **建议：限制你的密钥用途。** 创建密钥后，你会在 Credentials 页面上看到它。点击密钥名称打开设置。在 **API restrictions** 下，选择 **Restrict key**，然后从下拉菜单中选择 **Cloud Text-to-Speech API** 并点击 **Save**。这样即使有人获取了你的密钥，他们也只能用来做 TTS——别的什么都做不了。

### 第五步：配置 En Croissant

就差最后一步了！

1. 打开 En Croissant，进入 **Settings**（齿轮图标）> **Sound** 选项卡
2. 向下滚动到 TTS 区域
3. 将 **TTS Provider** 设置为 **Google Cloud**
4. 点击 **Google Cloud API Key** 输入框，粘贴你的密钥 (Ctrl+V)
5. 将 **Text-to-Speech** 设为 **On**
6. 点击语音选择器旁边的 **Test** 按钮

你应该能听到一步棋的朗读。如果听到了——恭喜，设置完成！

> **排除故障：** 如果测试没有声音，请检查：(1) 是否完整粘贴了 API key，(2) Text-to-Speech API 是否已启用（第三步），(3) 结算信息是否已关联（第二步）。最常见的问题是忘记启用 API。

## 设置 ElevenLabs

ElevenLabs 设置更简单，但免费额度较少（每月 10,000 字符——足够试用几盘棋局）。

### 第一步：创建账号

1. 打开浏览器，前往 **[elevenlabs.io](https://elevenlabs.io/)**
2. 点击右上角的 **Sign Up**
3. 你可以用 Google、GitHub 或电子邮件注册——选最方便的就好
4. 注册完成后，你会进入 ElevenLabs 控制面板

### 第二步：获取你的 API key

1. 在控制面板左下角，点击你的**头像图标**（或你的名字）
2. 点击 **Profile + API key**
3. 你会看到一个 API key 区域。点击 **Reveal** 查看你的密钥，如果还没有的话则点击 **Generate** 生成一个
4. 密钥看起来类似：`sk_...大约 30 个字符...`
5. **点击复制图标**，将密钥复制到剪贴板

### 第三步：配置 En Croissant

1. 打开 En Croissant，进入 **Settings**（齿轮图标）> **Sound** 选项卡
2. 向下滚动到 TTS 区域
3. 将 **TTS Provider** 设置为 **ElevenLabs**
4. 点击 **ElevenLabs API Key** 输入框，粘贴你的密钥 (Ctrl+V)
5. **TTS Voice** 下拉菜单会加载你可用的语音列表。**Adam** 是一个很好的默认选择——清晰自然，非常适合国际象棋解说
6. 将 **Text-to-Speech** 设为 **On**
7. 点击语音选择器旁边的 **Test** 按钮

你应该能听到一步棋的朗读。

> **关于免费额度：** ElevenLabs 免费方案每月提供 10,000 字符。一盘典型的带注释棋局大约使用 2,000-4,000 字符，因此每月可以免费回顾 2-5 盘棋局。如果你觉得 TTS 确实有用，他们的 Starter 方案 $5/月（30,000 字符）是一个不错的升级选择。Pro 方案（$22/月，100,000 字符）则可以满足重度使用需求。

## 设置参考

所有 TTS 设置都在 **Settings > Sound** 中：

| 设置项                   | 功能说明                                                                      |
|--------------------------|-------------------------------------------------------------------------------|
| **Text-to-Speech**       | TTS 总开关，控制所有 TTS 功能                                                 |
| **Auto-Narrate on Move** | 使用方向键走棋时，自动朗读注释                                                |
| **TTS Provider**         | 在 ElevenLabs 和 Google Cloud 之间切换                                        |
| **ElevenLabs API Key**   | 你的 ElevenLabs API key（仅在使用 ElevenLabs 时需要）                         |
| **Google Cloud API Key** | 你的 Google Cloud API key（仅在使用 Google 时需要）                            |
| **TTS Voice**            | ElevenLabs：从你的语音库中选择。Google：选择男声或女声                         |
| **TTS Language**         | 解说语言——所有国际象棋术语会自动翻译                                          |
| **TTS Volume**           | 解说音量                                                                      |
| **TTS Speed**            | 播放速度（0.5x 到 2x）——实时调节，无需重新生成音频                            |
| **TTS Audio Cache**      | 清除已缓存的音频以强制重新生成（适用于编辑注释后使用）                        |

## 支持的语言

TTS 解说目前支持七种语言，所有国际象棋词汇均完整翻译：

| 语言               | 国际象棋示例                                        |
|--------------------|-----------------------------------------------------|
| **English**        | Knight f3, check. A strong developing move.         |
| **Francais**       | Cavalier f3, echec. Un coup de developpement fort.  |
| **Espanol**        | Caballo f3, jaque. Un fuerte movimiento.            |
| **Deutsch**        | Springer f3, Schach. Ein starker Entwicklungszug.   |
| **日本語**          | ナイト f3、チェック。強い展開の手。                      |
| **Русский**        | Конь f3, шах. Сильный развивающий ход.              |
| **中文**            | 马 f3，将军。一步控制中心的强力出子。                    |

每一个国际象棋术语——棋子名称、"将军"、"将杀"、"王车易位"、"吃"、以及"妙手"和"漏着"等着法评价——都会用所选语言朗读。PGN 文件中的注释会按原文朗读，因此请用你想听到的语言来为棋局做注释。

## 使用技巧

- **开启自动解说。** 打开 "Auto-Narrate on Move"，然后只需用方向键逐步走棋即可。解说会随着你的走棋自然响起，就像身边有一位教练在指导你。

- **为自己的棋局做注释。** TTS 在朗读*你自己*棋局的解说时效果最为出色。为你的棋局写好注释，然后开启语音逐步回顾。听到"吃掉那个兵看起来很诱人，但你的整个王翼还没有出动"的同时盯着棋盘上的局面——这种感受和默读完全不同。

- **尝试不同的播放速度。** 有些棋手喜欢 1x 速度仔细研读，也有人偏好 1.3x 快速浏览。速度滑块可以实时调整播放速度，不会额外消耗 API 字符——音频只生成一次，之后以不同速度回放。

- **善用喇叭图标。** 走法列表中每条注释旁都有一个小喇叭图标。点击它就能单独听那一条注释，无需逐步走完整盘棋。

- **切换语言学习国际象棋词汇。** 如果你正在用第二语言学习国际象棋，把 TTS 语言设为对应的语言即可。你会在聆听中自然而然地掌握"Cavalier"（骑士）、"echec"（将军）和"mat"（将杀）等术语。

## 关于此功能

En Croissant 是一款开源国际象棋学习工具，由 [Francisco Salgueiro](https://github.com/franciscoBSalgueiro) 创建。Francisco 打造了一个真正了不起的作品——一个免费、强大、由社区驱动的国际象棋学习平台——并以 GPL-3.0 许可证发布，让任何人都可以使用、改进和分享它。这个 TTS 功能的诞生正是因为他的慷慨。我们感谢他建立的基础，也为能够为之做出贡献而自豪。

TTS 插件由 [Red Shed](mailto:darrell@redshed.ai) 的 Darrell 开发，在 [Claude Code](https://claude.ai/claude-code) 的协助下完成。多语言支持、双提供商集成、七种语言的完整国际象棋词汇翻译——从源码构建、手工测试、用心贡献。

这就是开源的魅力。有人创造了优秀的作品，另一个人为之添砖加瓦，最终每个人都从中受益。

## 联系我们

我们对这个功能充满热情，也非常期待听到你的使用体验。随时欢迎你的意见、建议和反馈。

- **想要我们尚未支持的语言？** 告诉我们——我们可以快速添加新语言。
- **发现了 bug？** 请告诉我们，我们会尽快修复。
- **对其他 TTS 提供商有想法？** 我们很乐意接入。
- **只是想告诉我们一切正常？** 这样的消息我们也很高兴收到。

在 GitHub 上提一个 issue，或直接联系我们：**[darrell@redshed.ai](mailto:darrell@redshed.ai)**。
